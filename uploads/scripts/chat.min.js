"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var themes=[{name:"Light",backgroundColor:"#15ecda",headerColor:"#007bff",textColor:"black"},{name:"Dark",backgroundColor:"#333",headerColor:"#000",textColor:"white"}];var _default=exports["default"]={init:function init(config){var theme=themes.find(function(theme){return theme.name===config.theme});var menuOpen=false;function toggleMenu(){menuOpen=!menuOpen;var iconChat=document.getElementById("icon-chat");var iconClose=document.getElementById("icon-close");var chatOverlay=document.getElementById("chat-overlay");if(menuOpen){iconChat.style.display="none";iconClose.style.display="block";chatOverlay.style.display="flex"}else{iconChat.style.display="block";iconClose.style.display="none";chatOverlay.style.display="none"}}var helpButton=document.createElement("div");helpButton.id="help-button";helpButton.style.cssText="\n      position: fixed;\n      bottom: 20px;\n      right: 20px;\n      width: 50px;\n      height: 50px;\n      border-radius: 100%;\n      display: flex;\n      cursor: pointer;\n      background: ".concat(theme.backgroundColor,";\n    ");helpButton.addEventListener("click",toggleMenu);var iconChat=document.createElement("img");iconChat.id="icon-chat";iconChat.src="http://localhost:3000/icon-chat.png";iconChat.alt="Help Icon";iconChat.style.cssText="\n      width: 40px;\n      height: 40px;\n      object-fit: contain;\n      margin: auto;\n    ";helpButton.appendChild(iconChat);var iconClose=document.createElement("img");iconClose.id="icon-close";iconClose.src="http://localhost:3000/icon-close.png";iconClose.alt="Help Icon";iconClose.style.cssText="\n      display: none;\n      width: 40px;\n      height: 40px;\n      object-fit: contain;\n      margin: auto;\n    ";helpButton.appendChild(iconClose);document.body.appendChild(helpButton);var chatOverlay=document.createElement("div");chatOverlay.id="chat-overlay";chatOverlay.style.cssText="\n      position: fixed;\n      bottom: 20px;\n      right: 70px;\n      width: 350px;\n      height: 500px;\n      border: 1px solid #ccc;\n      border-radius: 10px;\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n      background: #fff;\n      z-index: 10000;\n      display: none;\n      flex-direction: column;\n      font-family: Arial, sans-serif;\n    ";// Crear el encabezado del chat
var chatHeader=document.createElement("div");chatHeader.style.cssText="\n      padding: 10px;\n      background-color: ".concat(theme.backgroundColor,";\n      color: white;\n      font-weight: bold;\n      text-align: center;\n      border-top-left-radius: 10px;\n      border-top-right-radius: 10px;\n      cursor: move;\n    ");chatHeader.textContent="Chat";// Permitir mover el chat
var isDragging=false;var offsetX=0;var offsetY=0;chatHeader.addEventListener("mousedown",function(e){isDragging=true;offsetX=e.clientX-chatOverlay.getBoundingClientRect().left;offsetY=e.clientY-chatOverlay.getBoundingClientRect().top;document.body.style.userSelect="none"});document.addEventListener("mousemove",function(e){if(isDragging){chatOverlay.style.left="".concat(e.clientX-offsetX,"px");chatOverlay.style.top="".concat(e.clientY-offsetY,"px");chatOverlay.style.bottom="auto";chatOverlay.style.right="auto"}});document.addEventListener("mouseup",function(){isDragging=false;document.body.style.userSelect="auto"});// Crear el área de mensajes
var chatMessages=document.createElement("div");chatMessages.id="chat-messages";chatMessages.style.cssText="\n      flex: 1;\n      overflow-y: auto;\n      padding: 10px;\n      background-color: #f9f9f9;\n    ";// Crear el área de entrada de mensajes
var chatInputContainer=document.createElement("div");chatInputContainer.style.cssText="\n      display: flex;\n      padding: 10px;\n      border-top: 1px solid #ddd;\n    ";var chatInput=document.createElement("input");chatInput.type="text";chatInput.placeholder="Type a message...";chatInput.style.cssText="\n      flex: 1;\n      padding: 8px;\n      border: 1px solid #ccc;\n      border-radius: 4px;\n      outline: none;\n      font-size: 16px;\n    ";var sendButton=document.createElement("button");sendButton.textContent="Send";sendButton.style.cssText="\n      margin-left: 8px;\n      padding: 8px 16px;\n      background-color: ".concat(theme.backgroundColor,";\n      color: white;\n      border: none;\n      border-radius: 4px;\n      cursor: pointer;\n      font-size: 16px;\n    ");sendButton.addEventListener("mouseover",function(){sendButton.style.backgroundColor="".concat(theme.backgroundColor,"cc")});sendButton.addEventListener("mouseout",function(){sendButton.style.backgroundColor="".concat(theme.backgroundColor,"80")});sendButton.addEventListener("click",function(){var message=chatInput.value.trim();if(message){appendMessage("You",message);chatInput.value="";simulateReply()}});chatInput.addEventListener("keypress",function(e){if(e.key==="Enter"){sendButton.click()}});chatInputContainer.appendChild(chatInput);chatInputContainer.appendChild(sendButton);// Agregar elementos al contenedor del chat
chatOverlay.appendChild(chatHeader);chatOverlay.appendChild(chatMessages);chatOverlay.appendChild(chatInputContainer);// Agregar el chat al cuerpo del documento
document.body.appendChild(chatOverlay);// Utility function to format date
function formatDateString(dateString){var date=new Date(dateString);return date.toLocaleString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}// Funciones auxiliares
function appendMessage(sender,message){var timestamp=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Date().toISOString();var messageContainer=document.createElement("div");messageContainer.style.cssText="\n        display: flex;\n        gap: 14px;\n        margin-bottom: 14px;\n        align-items: flex-start;\n        ".concat(sender==="You"?"flex-direction: row-reverse;":"","\n      ");var avatar=document.createElement("div");avatar.style.cssText="\n        width: 58px;\n        height: 58px;\n        border-radius: 50%;\n        background-color: ".concat(sender==="You"?"#82c0cf":"#54D969",";\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        position: relative;\n      ");var avatarImg=document.createElement("img");avatarImg.src=sender==="You"?config.logo:config.logo;avatarImg.alt=sender;avatarImg.style.cssText="\n        width: 40px;\n        height: 40px;\n        object-fit: cover;\n        border-radius: 50%;\n      ";avatar.appendChild(avatarImg);var statusIndicator=document.createElement("div");statusIndicator.style.cssText="\n        width: 24px;\n        height: 24px;\n        background-color: #54D969;\n        border: 4px solid white;\n        border-radius: 50%;\n        position: absolute;\n        bottom: -5px;\n        ".concat(sender==="You"?"right: -5px;":"left: -5px;","\n      ");avatar.appendChild(statusIndicator);var messageContent=document.createElement("div");messageContent.style.cssText="\n        display: flex;\n        flex-direction: column;\n        gap: 4px;\n        ".concat(sender==="You"?"align-items: flex-end;":"align-items: flex-start;","\n      ");var messageBubble=document.createElement("p");messageBubble.textContent=message;messageBubble.style.cssText="\n        padding: 16px;\n        border-radius: 16px;\n        font-family: Arial, sans-serif;\n        font-size: 14px;\n        line-height: 18px;\n        max-width: 70%;\n        background-color: ".concat(sender==="You"?"#15ECDA40":"#F4F4F4",";\n        color: ").concat(sender==="You"?"#000":"#333",";\n      ");messageContent.appendChild(messageBubble);var messageTimestamp=document.createElement("p");messageTimestamp.textContent=formatDateString(timestamp);messageTimestamp.style.cssText="\n        font-family: Arial, sans-serif;\n        font-size: 12px;\n        color: #BFBFBF;\n        padding: 0 16px;\n        margin: 0;\n      ";messageContent.appendChild(messageTimestamp);messageContainer.appendChild(avatar);messageContainer.appendChild(messageContent);chatMessages.appendChild(messageContainer);// Scroll to bottom of the chat
chatMessages.scrollTop=chatMessages.scrollHeight}function simulateReply(){setTimeout(function(){appendMessage("Bot","This is a bot reply!")},1000)}}};
